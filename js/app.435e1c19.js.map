{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?5b85","webpack:///./src/components/Message.vue?5198","webpack:///./src/assets/fantasy_map_1554102582670.png","webpack:///./src/components/ViewProfile.vue?6a97","webpack:///./src/components/Messages.vue?153e","webpack:///./src/components/Map.vue?f13d","webpack:///./src/App.vue?b063","webpack:///./src/components/Navbar.vue?d27d","webpack:///./src/sbot.js","webpack:///src/components/Navbar.vue","webpack:///./src/components/Navbar.vue?1807","webpack:///./src/components/Navbar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/components/Map.vue?3179","webpack:///./src/components/map.svg","webpack:///./src/components/Messages.vue?a1fc","webpack:///./src/components/Message.vue?8ab1","webpack:///src/components/Message.vue","webpack:///./src/components/Message.vue?da58","webpack:///./src/components/Message.vue","webpack:///./src/components/Composer.vue?5ccf","webpack:///src/components/Composer.vue","webpack:///./src/components/Composer.vue?051c","webpack:///./src/components/Composer.vue","webpack:///src/components/Messages.vue","webpack:///./src/components/Messages.vue?3472","webpack:///./src/components/Messages.vue","webpack:///./src/components/TileInfo.vue?5a73","webpack:///src/components/TileInfo.vue","webpack:///./src/components/TileInfo.vue?bebe","webpack:///./src/components/TileInfo.vue","webpack:///./src/components/circle-layout.js","webpack:///src/components/Map.vue","webpack:///./src/components/Map.vue?fd5a","webpack:///./src/components/Map.vue","webpack:///./src/components/Profile.vue?6ccf","webpack:///./src/components/Cropper.vue?15a8","webpack:///src/components/Cropper.vue","webpack:///./src/components/Cropper.vue?f73a","webpack:///./src/components/Cropper.vue","webpack:///src/components/Profile.vue","webpack:///./src/components/Profile.vue?fed5","webpack:///./src/components/Profile.vue","webpack:///./src/components/Camp.vue?6043","webpack:///src/components/Camp.vue","webpack:///./src/components/Camp.vue?b65b","webpack:///./src/components/Camp.vue","webpack:///./src/components/ViewProfile.vue?5087","webpack:///src/components/ViewProfile.vue","webpack:///./src/components/ViewProfile.vue?bdeb","webpack:///./src/components/ViewProfile.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/Cropper.vue?651a","webpack:///./src/components/Profile.vue?b2f2"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_m","_v","staticStyle","avatar","pull","paraMap","require","isBlob","loadMessage","sbot","dest","cb","post_as","ssb","postAs","content","getLatest","id","err","state","sequence","timestamp","queue","add","Date","now","message","related","backlinks","read","live","query","$filter","type","filter","msg","sync","drain","countStream","vote","link","displayName","feedId","opts","limit","reverse","author","about","$is","$gt","$map","collect","results","authorName","image","$truthy","map","take","mounted","$ssb","then","methods","name_loaded","$data","imageData","avatar_loaded","component","components","Navbar","x","y","active_tags","on","handle_new_post","functional","children","class","classNames","style","rest","assign","this_tile_tags","$props","new_post","_e","_l","params","_s","tag","channel","textmd","likeClick","likes","md","props","String","Array","replies","related_loaded","like_loaded","like","previous_loaded","previous","prev","parseInt","block","text","$event","preventDefault","post","directives","rawName","expression","domProps","target","composing","writing","tags","newTags","model","callback","$$v","VueTagsInput","watch","abortable","Abortable","sort_on_sequence","a","b","Message","Composer","messages","identity","loading","computed","position","$emit","message_arrived","sort","fetch_messages","q","scuttlebuttCity","index","geospatial","abort","status","modifiers","scuttlecity","getRay","width","height","xExtreme","yExtreme","firstRay","computeRay","Math","cos","secondRay","sin","min","space","extreme","trig","available","angle","PI","abs","size","tree","last","ray","separation","parent","depth","optimizeSize","margin","transformNode","radius","transformSvg","svg","attr","updateTransform","transform","translate","getLine","d3","radialLine","transformText","rotate","anchor","map_context","mousedown","$router","draw_border","border","path","topology","hexTopology","dx","arcs","x_pos","y_pos","geom_id","lookup_activity","activ","activity","geometries","fill","last_activity","objects","hexProjection","stream","point","lineStart","lineEnd","polygonStart","polygonEnd","MIN","MAX","MapSVG","Messages","TileInfo","$route","getActivity","$forceUpdate","new_activity","getSize","projection","paths","labels_to_update","labels","selectAll","update_backgrounds","update_labels","update_borders","resize","g","redraw","console","log","zoomed","event","max","container_container","activity_to_alpha","difference","apply_attributes","exit","remove","borders","enter","append","apply_label_attrs","pub_id","our_id","JSON","parse","localStorage","keys","friends","isFollowing","contact","following","select","geoPath","zoom","imgs","updated","handleUploading","handleUploaded","handleCompleted","handlerError","handleSubmit","new_name","destroy","ref","dataUrl","stopPropagation","createCropper","cancel","submit","mimes","dataurl","trigger","Element","required","uploadHandler","Function","blobHandler","uploadUrl","requestMethod","default","uploadHeaders","uploadFormName","uploadFormData","cropperOptions","aspectRatio","autoCropArea","viewMode","movable","zoomable","outputOptions","outputMime","outputQuality","Number","cropper","undefined","filename","$refs","input","pickImage","click","e","uploadImage","dataURL","getCroppedCanvas","toDataURL","_data","addEventListener","fileInput","files","reader","onload","readAsDataURL","new_key","user","form","xhr","Vue","use","VueRouter","routes","Map","Camp","Profile","ViewProfile","VueTimeago","locales","ReadMore","BootstrapVue","EvaIcons","ssbclient","remote","manifest","config","productionTip","router","template","app","$mount"],"mappings":"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","file":"js/app.435e1c19.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=a6ca914c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=style&index=0&id=a6ca914c&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/fantasy_map_1554102582670.ff8ad0fd.png\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewProfile.vue?vue&type=style&index=0&id=47c58bcc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewProfile.vue?vue&type=style&index=0&id=47c58bcc&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&id=2f097b82&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&id=2f097b82&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('site-navbar'),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar navbar-expand-sm navbar-dark bg-dark\"},[_vm._m(0),_c('div',{staticClass:\"collapse navbar-collapse\",attrs:{\"id\":\"navbarTogglerDemo01\"}},[_c('router-link',{staticClass:\"navbar-brand\",attrs:{\"to\":\"/\"}},[_vm._v(\"◎\")]),_vm._m(1),_c('ul',{staticClass:\"navbar-nav ml-auto mt-2 mt-lg-0\"},[_c('li',{staticClass:\"nav-item\"},[_c('router-link',{attrs:{\"to\":\"/profile\"}},[_c('img',{staticStyle:{\"width\":\"23px\",\"margin\":\"-10\"},attrs:{\"src\":_vm.avatar,\"alt\":\"Profile image\"}})])],1)])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"navbar-toggler\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarTogglerDemo01\",\"aria-controls\":\"navbarTogglerDemo01\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"}},[_c('span',{staticClass:\"navbar-toggler-icon\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"navbar-nav mr-auto mt-2 mt-lg-0\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"#\"}})])])}]\n\nexport { render, staticRenderFns }","import pull from 'pull-stream'\npull.paraMap = require('pull-paramap')\nconst { isBlob } = require('ssb-ref')\nvar create = require('ssb-validate').create\n\nfunction present (value) {\n  return value != null\n}\n\nexport default \n{\n  loadMessage: function(sbot, dest, cb) {\n    \n  },\n\n  // Add a new message to the log, signed with the postAs key\n  post_as (ssb, postAs, content, cb) {\n    ssb.getLatest(postAs.id, (err, data) => {\n      var state = data ? {\n        id: data.key,\n        sequence: data.value.sequence,\n        timestamp: data.value.timestamp,\n        queue: []\n      } : {id: null, sequence: null, timestamp: null, queue: []}\n      \n      ssb.add(\n        create(state, postAs, null, content, Date.now()), function (err, message) {\n          if(err)\n            throw err\n          if(cb)\n            cb()\n        }\n      )\n    })\n  },\n\n  // Get a live stream of all posts related to @dest\n  related: function(sbot, dest, cb) {\n    pull(\n      sbot.backlinks.read({ \n        live: true,\n        query: [{\n          $filter: {\n            dest,\n            value: { content: { type: 'post' } }\n            }\n          }],\n        }\n      ),\n      pull.filter(msg => !msg.sync),\n      pull.drain(msg => {\n        cb(null, msg)\n      })\n    )\n  },\n\n  // Get a live stream of all the votes related to @dest\n  countStream: function (sbot, dest, cb) {\n    pull(\n      sbot.backlinks.read({ \n        live: true,\n        query: [{\n          $filter: {\n            dest,\n            value: { content: { type: 'vote', vote: { link: dest } } }\n            }\n          }],\n        }\n      ),\n      pull.filter(msg => !msg.sync),\n      pull.drain(msg => {\n        cb(null, msg)\n      })\n    )\n  },\n\n  displayName (sbot, feedId, cb) {\n    var data = {}\n\n    const opts = {\n        limit: 1,\n        reverse: true,\n        query: [\n          {\n            $filter: {\n              value: {\n                author: feedId,\n                content: {\n                  type: 'about',\n                  about: feedId,\n                  name: { $is: 'string' } // there's a name string present\n                }\n              },\n              timestamp: { $gt: 0 } // a hack that forces ordering by timestamp\n            }\n          },\n          {\n            $map: {\n              name: ['value', 'content', 'name']\n            }\n          }\n        ]\n      }\n\n    pull(\n        sbot.query.read(opts),\n        pull.collect((err, results) => {\n        if (err) {\n          cb(err)\n          return\n        }\n\n        var name\n        if (!results || !results.length) name = feedId\n        else name = results[0].name\n\n        data.authorName = name\n        \n        cb(null, data)\n      })\n    )\n  },\n\n  avatar (sbot, feedId, cb) {\n    const opts = {\n      reverse: true,\n      query: [\n        {\n          $filter: {\n            value: {\n              author: feedId,\n              content: {\n                type: 'about',\n                about: feedId,\n                image: { $truthy: true }\n              },\n              timestamp: { $gt: 0 } // a hack that forces ordering by timestamp\n            }\n          }\n        },\n        {\n          $map: {\n            image: ['value', 'content', 'image']\n          }\n        }\n      ]\n    }\n\n    pull(\n      sbot.query.read(opts),\n      // hooray the format for image about is non-standardised... could be image.link or image that the blob link is stored under\n      pull.map(data => typeof data.image === 'string'\n        ? data.image\n        : data.image.link\n      ),\n      pull.filter(link => isBlob(link)),\n      pull.take(1),\n      pull.collect((err, results) => {\n        if (err) {\n          cb(err)\n          return\n        }\n\n        if (!results || !results.length) cb(null, null)\n        else cb(null, results[0])\n      })\n    )\n  }\n}","<template>\n  <nav class=\"navbar navbar-expand-sm navbar-dark bg-dark\">\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo01\" aria-controls=\"navbarTogglerDemo01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <div class=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\n    \n\n    <router-link class=\"navbar-brand\" to=\"/\">◎</router-link>\n    <ul class=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\"></a>\n      </li>\n    </ul>\n\n   \n    <ul class=\"navbar-nav ml-auto mt-2 mt-lg-0\">\n      <li class=\"nav-item\">\n        <router-link class=\"\" to=\"/profile\">\n          <img class=\"\" :src=\"avatar\" alt=\"Profile image\" style=\"width: 23px; margin: -10\"/>\n        </router-link>\n      </li>\n    </ul>\n    \n  </div>\n</nav>\n</template>\n\n<script>\nimport sbotLibs from './../sbot'\nimport GIXI from 'gixi'\nexport default {\n  name: 'site-navbar',\n  data() {\n    return {\n      avatar: \"https://via.placeholder.com/90x90\",\n      author: \"...\",\n    }\n  },\n  mounted: function()\n  {\n    // Async fetch and connect ssb\n    this.$ssb.then((ssb) => {\n      sbotLibs.displayName(ssb, JSON.parse(localStorage.keys).id, this.name_loaded)\n      sbotLibs.avatar(ssb, JSON.parse(localStorage.keys).id, this.avatar_loaded)\n      \n    })\n  },\n  methods: {\n    name_loaded: function(err, name)\n    {\n      this.$data.author = name\n\n      // temporary avatar based on author\n      if(this.$data.avatar == \"https://via.placeholder.com/90x90\")\n      {\n        var imageData = new GIXI(300, JSON.parse(localStorage.keys).id).getImage();\n        this.$data.avatar = imageData\n      }\n    },\n    avatar_loaded: function(err, avatar)\n    {\n      if(avatar)\n        this.$data.avatar = \"http://ssb.guild.land/blobs/get/\" + avatar\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>  ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=6fa9493a&scoped=true&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fa9493a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <site-navbar></site-navbar>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\n\nimport Navbar from './components/Navbar'\n\n\nexport default {\n  name: 'app',\n  components: {\n    'site-navbar': Navbar\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4438a08c&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fluid-container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\",attrs:{\"id\":\"map\"}},[_c('MapSVG',{attrs:{\"id\":\"map_svg\"}})],1),_c('div',{staticClass:\"col-md-6\",attrs:{\"id\":\"\"}},[_c('div',{staticClass:\"card-body scroll\",staticStyle:{\"max-height\":\"1500px\"}},[_c('TileInfo',{attrs:{\"x\":_vm.x,\"y\":_vm.y,\"active_tags\":_vm.active_tags}}),_c('Messages',{staticStyle:{\"max-height\":\"100%\"},attrs:{\"this_tile_tags\":_vm.active_tags,\"x\":_vm.x,\"y\":_vm.y},on:{\"new_post\":_vm.handle_new_post}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      export default {\n        functional: true,\n        render(_h, _vm) {\n          const { _c, _v, data, children = [] } = _vm;\n\n          const {\n            class: classNames,\n            staticClass,\n            style,\n            staticStyle,\n            attrs = {},\n            ...rest\n          } = data;\n\n          return _c(\n            'svg',\n            {\n              class: [classNames,staticClass],\n              style: [style,staticStyle],\n              attrs: Object.assign({\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"1462\",\"height\":\"1949\"}, attrs),\n              ...rest,\n            },\n            children\n          )\n        }\n      }\n    ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('Composer',{attrs:{\"active_tags\":_vm.this_tile_tags,\"x\":_vm.$props.x,\"y\":_vm.$props.y},on:{\"new_post\":_vm.new_post}}),(_vm.loading)?_c('div',{staticClass:\"spinner-border\",attrs:{\"label\":\"Spinning\"}}):_vm._e(),_vm._l((_vm.messages),function(message){return _c('Message',{key:message.key,attrs:{\"message\":message,\"x\":_vm.$props.x,\"y\":_vm.$props.y}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"media mt-3 col-sm-12 message\"},[_c('router-link',{attrs:{\"to\":{ name: 'ViewProfile', params: { id: _vm.message.value.author } }}},[_c('img',{staticClass:\"pr-3 rounded \",staticStyle:{\"max-width\":\"60px\"},attrs:{\"src\":_vm.avatar}})]),_c('div',{staticClass:\"media-body\"},[_c('h5',{staticClass:\"mt-0 text-truncate\"},[_c('router-link',{staticClass:\"text-dark font-weight-bold\",attrs:{\"to\":{ name: 'ViewProfile', params: { id: _vm.message.value.author } }}},[_vm._v(\"\\n          \"+_vm._s(_vm.author.authorName)+\"  \\n        \")]),_c('span',{staticClass:\"text-muted\"},[_vm._l((_vm.message.value.content.tags),function(tag){return _c('span',[_vm._v(\"\\n            \"+_vm._s(tag)+\"\\n          \")])}),(_vm.message.value.content.x && _vm.message.value.content.y)?_c('span',[_vm._v(\"\\n            \"+_vm._s(_vm.message.value.content.x)+\"/\"+_vm._s(_vm.message.value.content.y)+\"\\n          \")]):_vm._e(),(_vm.message.value.content.channel)?_c('span',{staticClass:\"text-dark\"},[_vm._v(\"#\"+_vm._s(_vm.message.value.content.channel))]):_vm._e()],2)],1),_c('div',{staticClass:\"tweet-text\"},[_c('read-more',{attrs:{\"more-str\":\"[more]\",\"less-str\":\"[less]\",\"max-chars\":400,\"text\":_vm.textmd}})],1),_c('div',{staticClass:\"tweet-footer\"},[_c('a',{staticClass:\"tweet-footer-btn\",on:{\"click\":_vm.likeClick}},[_c('eva-icon',{attrs:{\"name\":\"heart-outline\",\"animation\":\"pulse\"}}),_c('span',[_vm._v(_vm._s(_vm.likes.length))])],1)]),_c('div',{staticClass:\"float-right text-muted small\"},[(_vm.message.value.timestamp)?_c('timeago',{attrs:{\"datetime\":_vm.message.value.timestamp,\"auto-update\":60}}):_vm._e()],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template><!-- v-bind:class=\"distant\" -->\n  <div class=\"media mt-3 col-sm-12 message\" >\n    <router-link class=\"\" :to=\"{ name: 'ViewProfile', params: { id: message.value.author } }\" >\n      <img class=\"pr-3 rounded \" style=\"max-width: 60px;\" v-bind:src=\"avatar\">\n    </router-link>\n    <div class=\"media-body\">\n      <h5 class=\"mt-0 text-truncate\">\n        <router-link class=\"text-dark font-weight-bold\" :to=\"{ name: 'ViewProfile', params: { id: message.value.author } }\" >\n          {{ author.authorName }}  \n        </router-link>\n    \n        <span class=\"text-muted\">\n          <span v-for=\"tag in message.value.content.tags\">\n            {{ tag }}\n          </span>\n\n          <span v-if=\"message.value.content.x && message.value.content.y\">\n            {{ message.value.content.x }}/{{ message.value.content.y }}\n          </span>\n          \n          <span class=\"text-dark\" v-if=\"message.value.content.channel\">#{{ message.value.content.channel }}</span>\n        </span>\n      </h5>\n\n      <div class=\"tweet-text\">\n        <read-more more-str=\"[more]\" less-str=\"[less]\" :max-chars=\"400\" :text=\"textmd\"></read-more>\n      </div>\n      <div class=\"tweet-footer\">\n        <!-- <a class=\"tweet-footer-btn\">\n          <eva-icon name=\"message-square-outline\"></eva-icon><span>{{replies}}</span>\n        </a> -->\n        <a class=\"tweet-footer-btn\" v-on:click=\"likeClick\">\n          <eva-icon name=\"heart-outline\" animation=\"pulse\"></eva-icon><span>{{ likes.length }}</span>\n        </a>\n      </div>\n\n      <div class=\"float-right text-muted small\">\n        <!-- <router-link class=\"text-muted font-weight-bold\" :to=\"{ name: 'View Post', params: { id: message.key, x: message.value.x, y: message.value.y } }\" > -->\n          <timeago v-if=\"message.value.timestamp\" :datetime=\"message.value.timestamp\" :auto-update=\"60\"></timeago>\n        <!-- </router-link> -->\n      </div>\n<!-- \n      <pre>\n        {{ message }}\n      </pre>\n\n      <message v-for=\"r in related\" :message=\"r\">\n      </message>\n -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport sbotLibs from './../sbot'\nimport pull from 'pull-stream'\nimport GIXI from 'gixi'\npull.paraMap = require('pull-paramap')\nvar md = require('ssb-markdown')\n\n\nexport default {\n  name: 'message',\n  props: { \n    'message': {},\n    'x': String,\n    'y': String,\n    'active_tags': Array\n   },\n\n  data() {\n    return {\n      avatar: \"https://via.placeholder.com/90x90\",\n      author: \"...\",\n      textmd: \"...\",\n      likes: [],\n      related: [],\n      replies: 0\n    }\n  },\n  \n  methods: {\n    name_loaded: function(err, name)\n    {\n      this.$data.author = name\n\n      // temporary avatar based on author\n      if(this.$data.avatar == \"https://via.placeholder.com/90x90\")\n      {\n        var imageData = new GIXI(300, this.message.value.author).getImage();\n        this.$data.avatar = imageData\n      }\n    },\n    related_loaded: function(err, related)\n    {\n      this.$data.related.push(related)\n    },\n    avatar_loaded: function(err, avatar)\n    {\n      if(avatar)\n        this.$data.avatar = \"http://ssb.guild.land/blobs/get/\" + avatar\n    },\n    like_loaded: function(err, like)\n    {\n      this.$data.likes.push(like)\n    },\n    previous_loaded: function(err, prev)\n    {\n      this.$data.previous = prev\n    },\n    likeClick: function()\n    {\n      this.$ssb.then((ssb) => {\n        var x = parseInt(this.$props.x)\n        var y = parseInt(this.$props.y)\n\n        var content = {\n            type: 'vote',\n            x: x,\n            y: y,\n            channel: this.message.value.content.channel,\n            tags: this.message.value.content.tags,\n            vote: { \n              value: 1, \n              link: this.message.key\n            }\n          }\n\n          sbotLibs.post_as(ssb, JSON.parse(localStorage.keys), content)\n        })\n    }\n  },\n\n  mounted: function()\n  {\n    this.$data.textmd = md.block(this.message.value.content.text, { toUrl: function( blob ){ return \"http://ssb.guild.land/blobs/get/\" + blob } })\n\n    // Async fetch and connect ssb\n    this.$ssb.then((ssb) => {\n      sbotLibs.displayName(ssb, this.message.value.author, this.name_loaded)\n      sbotLibs.avatar(ssb, this.message.value.author, this.avatar_loaded)    \n      sbotLibs.countStream(ssb, this.message.key, this.like_loaded)  \n      // sbotLibs.related(ssb, this.message.key, this.related_loaded)  \n      // if(this.message.value.previous)\n        // sbotLibs.loadMessage(ssb, this.message.value.previous, this.previous_loaded)\n    })\n  },\n  \n}\n</script>\n\n<style scoped>\n\n.tweet-footer-btn {\n  margin-right: 30px;\n}\n.tweet-footer-btn i, .tweet-footer-btn span {\n  color: #657786;\n  font-size: 16px;\n}\n.tweet-footer-btn span {\n  margin-left: 8px;\n}\n.tweet-footer-btn svg\n{\n  cursor: pointer !important; \n}\n.distant\n{\n  color: grey;\n}\n\n</style>  ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Message.vue?vue&type=template&id=a6ca914c&scoped=true&\"\nimport script from \"./Message.vue?vue&type=script&lang=js&\"\nexport * from \"./Message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Message.vue?vue&type=style&index=0&id=a6ca914c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6ca914c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group media mt-2 col-sm-12 message\"},[_c('router-link',{attrs:{\"to\":{ name: 'Profile' }}},[_c('img',{staticClass:\"pr-3 rounded \",staticStyle:{\"max-width\":\"60px\"},attrs:{\"src\":_vm.avatar}})]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.post($event)}}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"form-control\",attrs:{\"autofocus\":\"\",\"placeholder\":\"New message at this location\"},domProps:{\"value\":(_vm.message)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.message=$event.target.value},function($event){_vm.writing = true}],\"click\":function($event){_vm.writing = true},\"blur\":function($event){_vm.message.length == 0 ? _vm.writing = false : null}}}),(_vm.writing)?_c('vue-tags-input',{attrs:{\"tags\":_vm.tags},on:{\"tags-changed\":function (newTags) { return _vm.tags = newTags; }},model:{value:(_vm.tag),callback:function ($$v) {_vm.tag=$$v},expression:\"tag\"}}):_vm._e(),(_vm.writing)?_c('button',{staticClass:\"btn btn-outline-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Post\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n  <div class=\"form-group media mt-2 col-sm-12 message\">\n    <router-link :to=\"{ name: 'Profile' }\" >\n      <img class=\"pr-3 rounded \" style=\"max-width: 60px;\" v-bind:src=\"avatar\">\n    </router-link>\n    \n    <form @submit.prevent=\"post\">\n      <textarea \n        autofocus\n        class=\"form-control\" \n        placeholder=\"New message at this location\" \n        v-model=\"message\" \n        v-on:input='writing = true'\n        v-on:click='writing = true'\n        v-on:blur='message.length == 0 ? writing = false : null'\n      ></textarea>\n    \n      <vue-tags-input\n          v-if= 'writing'\n          v-model=\"tag\"\n          :tags=\"tags\"\n          @tags-changed=\"newTags => tags = newTags\"\n      />\n      <button type=\"submit\" v-if= 'writing' class=\"btn btn-outline-primary\">Post</button>\n    </form>\n\n  </div>\n</template>\n\n<script>\n\nimport sbotLibs from './../sbot'\nimport GIXI from 'gixi'\nimport { VueTagsInput, createTag, createTags } from '@johmun/vue-tags-input';\n\nexport default {\n  name: 'composer',\n  props: {\n    'x': String,\n    'y': String,\n    'active_tags': Array\n  },\n  components: {\n    VueTagsInput,\n  },\n  data() {\n    return {\n      avatar: \"https://via.placeholder.com/90x90\",\n      message: '',\n      writing: false,\n      tag: '', \n      tags: []\n    }\n  },\n  watch: {\n    active_tags: function(new_tags, old_tags)\n    {\n      this.$data.tags = createTags( new_tags )\n    }\n  },\n  mounted: function()\n  {\n    // Async fetch and connect ssb\n    this.$ssb.then((ssb) => {\n      sbotLibs.avatar(ssb, JSON.parse(localStorage.keys).id, this.avatar_loaded)\n    })\n  },\n  methods: {\n    avatar_loaded: function(err, avatar)\n    {\n      // temporary avatar based on author\n      if(this.$data.avatar == \"https://via.placeholder.com/90x90\")\n      {\n        var imageData = new GIXI(300, JSON.parse(localStorage.keys).id).getImage();\n        this.$data.avatar = imageData\n      }\n      if(avatar)\n        this.$data.avatar = \"http://ssb.guild.land/blobs/get/\" + avatar\n    },\n    post: function(event)\n    {\n      if(this.$data.message)\n      {\n        var x = parseInt(this.$props.x)\n        var y = parseInt(this.$props.y)\n\n        // console.log(this.$data.tags)\n\n        this.$ssb.then((ssb) => {\n          var content = {\n            type: 'post',\n            text: this.$data.message,\n            x: x,\n            y: y\n          }\n\n          // If there are tags, map their names onto the new post\n          if(this.$data.tags.length > 0)\n            content.tags = this.$data.tags.map(x => x.text)\n\n          sbotLibs.post_as(ssb, JSON.parse(localStorage.keys), content)\n\n          this.$emit('new_post')\n          this.$data.message = \"\"\n        })\n      }\n    },\n  },\n\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Composer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Composer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Composer.vue?vue&type=template&id=5cb58862&scoped=true&\"\nimport script from \"./Composer.vue?vue&type=script&lang=js&\"\nexport * from \"./Composer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5cb58862\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"row\">\n    <Composer @new_post=\"new_post\" :active_tags=\"this_tile_tags\" :x=\"$props.x\" :y=\"$props.y\"></Composer>\n\n    <div v-if=\"loading\" class=\"spinner-border\" label=\"Spinning\"></div>\n\n    <Message v-for=\"message in messages\" :message=\"message\" v-bind:key=\"message.key\" :x=\"$props.x\" :y=\"$props.y\"></Message>\n  </div>\n</template>\n\n<script>\nimport Message from \"./Message.vue\"\nimport Composer from \"./Composer.vue\"\nconst pull = require('pull-stream')\nconst drain = require('pull-stream/sinks/drain')\nvar Abortable = require('pull-abortable')\nvar abortable\n\nimport sbotLibs from './../sbot'\n\nconst distance = 2\n\nfunction sort_on_sequence(a, b){\n    var keyA = a.value.timestamp,\n        keyB = b.value.timestamp;\n    // Compare the 2 dates\n    if(keyA < keyB) return 1;\n    if(keyA > keyB) return -1;\n    return 0;\n};\n\nexport default {\n  name: 'Messages',\n  components: {\n    Message,\n    Composer\n  },\n  data() {\n    return {\n      ssb: '',\n      messages: [],\n      identity: \"...\",\n      loading: true\n    }\n  },\n  props: {\n    msg: String,\n    x: String,\n    y: String,\n    this_tile_tags: Array\n  },\n  computed: {\n    position() {\n      return this.x, this.y\n    }\n  },\n  methods: {\n    new_post: function()\n    {\n      this.$emit('new_post')\n    },\n    message_arrived: function(message)\n    {\n      // Ignore sync notification\n      if(message.sync)\n      {\n        this.$data.loading = false\n      }  \n      else\n      {\n        this.$data.messages.push(message)\n        this.$data.messages.sort(sort_on_sequence)\n      }\n    },\n    name_loaded: function(err, name)\n    {\n      this.$data.identity = name.authorName\n    },\n\n    fetch_messages: function()\n    {\n      this.$data.messages = [] // clear\n      this.$data.loading = true\n\n      this.$ssb.then((ssb) => {\n        this.$data.ssb = ssb\n\n        sbotLibs.displayName(ssb, JSON.parse(localStorage.keys).id, this.name_loaded)\n\n        var x = parseInt(this.$props.x)\n        var y = parseInt(this.$props.y)\n\n\n        var scuttlebuttCity = false\n        if(x == 4 && y == 21)\n          scuttlebuttCity = true\n        \n\n        var q\n        if(scuttlebuttCity)\n        {\n          this.$data.loading = false\n          q = {\n          limit: 20,\n          reverse: true,\n          live: true,\n          query: [{\n            $filter: {\n              value: {\n                content: { \n                  type: 'post'\n                },\n              }\n            }}]\n          }\n        }\n        else\n        {\n          q = {\n          limit: 50,\n          reverse: true,\n          live: true,\n          query: [{\n            $filter: {\n              value: {\n                content: { \n                  type: 'post',\n                  x: {\n                    $gt: 0\n                  }, \n                  y: {\n                    $gt: 0\n                  } \n                },\n              }\n            }}]\n          }\n\n          // filter posts from this area\n          if(!isNaN(x) && !isNaN(y))\n          {\n            var c = q.query[0].$filter.value.content\n\n            c.x = { ...c.x, ...{ '$gt': x-distance, '$lt': x+distance } }\n            c.y = { ...c.y, ...{ '$gt': y-distance, '$lt': y+distance } }\n          }\n        }\n        \n\n        var index = ssb.geospatial.read\n        var query = index(q)\n\n        pull(\n          query,\n          abortable = Abortable(), // incase we need to bail midway through\n          pull.drain(this.message_arrived)\n        )\n    \n      })\n    }\n  },\n\n  watch: {\n    // if the position moves, load new messages\n    position() {\n      abortable.abort()\n      this.fetch_messages()\n    }\n  },\n\n  mounted: function()\n  {\n    this.fetch_messages()\n  }\n}\n</script>\n\n\n<style scoped>\n\n.message\n{\n  \n}\n</style>  ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=2f097b82&scoped=true&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Messages.vue?vue&type=style&index=0&id=2f097b82&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f097b82\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('h3',{staticClass:\"card-title\"},[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"⬡\")]),_vm._v(\" \"+_vm._s(_vm.x)+\" / \"+_vm._s(_vm.y)+\" \"+_vm._s(_vm.status))]),(_vm.status != 'ScuttleCity')?_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-1\",modifiers:{\"modal-1\":true}}],staticClass:\"btn-xxs btn-primary\"},[_vm._v(\"Build a camp 🔥\")]):_vm._e(),_c('b-modal',{attrs:{\"id\":\"modal-1\",\"title\":\"Establish a new Camp\"}},[_c('p',{staticClass:\"my-4\"},[_vm._v(\"Build a 🔥\")])]),_vm._l((_vm.active_tags),function(tag){return _c('p',[_c('span',{staticClass:\"badge badge-secondary\"},[_vm._v(\"\\n        \"+_vm._s(tag)+\"\\n      \")])])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"\">\n\t\t<h3 class=\"card-title\"><span class=\"font-weight-bold\">⬡</span> {{x}} / {{y}} {{status}}</h3>\n\n    <b-button class=\"btn-xxs btn-primary\" v-if=\"status != 'ScuttleCity'\" v-b-modal.modal-1>Build a camp 🔥</b-button>\n\n    <b-modal id=\"modal-1\" title=\"Establish a new Camp\">\n      <p class=\"my-4\">Build a 🔥</p>\n    </b-modal>\n\n    <p v-for=\"tag in active_tags\">\n      <span class=\"badge badge-secondary\">\n        {{ tag }}\n      </span>\n    </p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'tile_info',\n  props: [ 'x', 'y', 'active_tags' ],\n  computed: {\n    status() {\n      if(this.scuttlecity())\n      {\n        return \"ScuttleCity\"\n      }\n      else\n      {\n        return \"Unoccupied\"  \n      }\n      \n    }\n  },\n  methods: {\n    scuttlecity(){\n      if( (this.$route.params.x == 4 && this.$route.params.y == 21) || !(this.$route.params.x && this.$route.params.y) )\n      {\n        return true\n      }\n      else\n      {\n        return false\n      }\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TileInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TileInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TileInfo.vue?vue&type=template&id=5cf2ff27&\"\nimport script from \"./TileInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./TileInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function getRay ({width, height}, {x, y}, {xExtreme = null, yExtreme = null}) {\n  const firstRay = computeRay((width - x) / 2, xExtreme, Math.cos)\n  const secondRay = computeRay((height - y) / 2, yExtreme, Math.sin)\n  return Math.min(firstRay, secondRay)\n}\n\nfunction computeRay (space, extreme, trig) {\n  if (!extreme) {\n    return space\n  }\n  const available = space - extreme.value\n  const angle = (extreme.x - 90) / 180 * Math.PI\n  return Math.abs(available / trig(angle))\n}\n\nexport default {\n  size (tree, {width, height}, {x, y}, {last}) {\n    const ray = Math.min(width - x, height - y) / 2 - last\n    tree.size([360, ray])\n        .separation((a, b) => { return (a.parent === b.parent ? 1 : 2) / (a.depth !== 0 ? a.depth : 1) })\n  },\n\n  optimizeSize (tree, size, margin, extreme) {\n    const ray = getRay(size, margin, extreme || {})\n    tree.size([360, ray])\n        .separation((a, b) => { return (a.parent === b.parent ? 1 : 2) / (a.depth !== 0 ? a.depth : 1) })\n  },\n\n  transformNode (x, y) {\n    const angle = (x - 90) / 180 * Math.PI\n    const radius = y\n    return [~~(radius * Math.cos(angle)), ~~(radius * Math.sin(angle))]\n  },\n\n  transformSvg (svg, margin, {width, height}) {\n    return svg.attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\n  },\n\n  updateTransform (transform, margin, {width, height}) {\n    return transform.translate(width / 2, height / 2)\n  },\n\n  getLine (d3) {\n    return d3.radialLine()\n              .radius(d => d.y)\n              .angle(d => d.x / 180 * Math.PI)\n  },\n\n  transformText (d, children) {\n    return {\n      x: d.x < 180 === !children ? 6 : -6,\n      rotate: d.x < 180 ? d.x - 90 : d.x + 90,\n      anchor: d.x < 180 === !children ? 'start' : 'end'\n    }\n  }\n}\n","\n<template>\n  <div class=\"fluid-container\">\n    <div class=\"row\">\n      <div id=\"map\" class=\"col-md-6\">\n        <MapSVG id=\"map_svg\"></MapSVG>\n      </div>\n\n      <div id=\"\" class=\"col-md-6\">\n        <div class=\"card-body scroll\" style=\"max-height: 1500px\">\n          <TileInfo :x=\"x\" :y=\"y\" v-bind:active_tags=\"active_tags\"></TileInfo>\n          \n          <!-- <h3 class=\"card-title\">{{active_tags}}</h3> -->\n          <Messages style=\"max-height: 100%\" @new_post=\"handle_new_post\" v-bind:this_tile_tags=\"active_tags\" :x=\"x\" :y=\"y\"></Messages>\n        </div>  \n      </div>\n\n    </div>\n  </div>\n</template>\n\n\n<script>\nvar d3 = require(\"d3\");\n\nimport MapSVG from './map.svg';\n\nimport Messages from './../components/Messages'\nimport TileInfo from './../components/TileInfo'\n\nimport * as topojson from \"topojson-client\";\nimport layout from './circle-layout'\n// import resize from 'vue-resize-directive'\n\nwindow.map_context = \"\"\n\nconst pull = require('pull-stream')\nconst drain = require('pull-stream/sinks/drain')\n\nimport sbotLibs from './../sbot'\n\n\n// D3 settings\nvar margin = {top: 5, right: 5, bottom: 5, left: 5},\n      width = 2000,\n      height = 2000\n\n\nvar radius = 20;\n\n// D3 context hacks for update method\nvar group, mesh, border, labels;\n\nvar svg, g, path, container_container;\n\nfunction mousedown(d) {\n  map_context.$router.push({ path: `/${d.i}/${d.j}`})\n}\n\nfunction draw_border(border, path, topology) {\n  border.attr(\"d\", path(topojson.mesh(topology, topology.objects.hexagons, function(a, b) { return a.fill ^ b.fill; })));\n}\n\nfunction hexTopology(radius, width, height) {\n  var dx = radius * 2 * Math.sin(Math.PI / 3),\n      dy = radius * 1.5,\n      m = Math.ceil((height + radius) / dy) + 1,\n      n = Math.ceil(width / dx) + 1,\n      geometries = [],\n      arcs = [];\n\n  for (var j = -1; j <= m; ++j) {\n    for (var i = -1; i <= n; ++i) {\n      var y = j * 2, x = (i + (j & 1) / 2) * 2;\n      arcs.push([[x, y - 1], [1, 1]], [[x + 1, y], [0, 1]], [[x + 1, y + 1], [-1, 1]]);\n    }\n  }\n\n  var x_pos = map_context.$props.x\n  var y_pos = map_context.$props.y\n\n  // console.log(\"xy\", x_pos, y_pos)\n\n  var geom_id = 1\n  for (var j = 0, q = 3; j < m; ++j, q += 6) {\n    for (var i = 0; i < n; ++i, q += 3) {\n      \n      \n      var lookup_activity = i + '/' + j\n      var activ = map_context.$data.activity[lookup_activity]\n\n      geometries.push({\n        type: \"Polygon\",\n        arcs: [[q, q + 1, q + 2, ~(q + (n + 2 - (j & 1)) * 3), ~(q - 2), ~(q - (n + 2 + (j & 1)) * 3 + 2)]],\n        fill: x_pos == i && y_pos == j,\n        last_activity: activ ? activ.last_activity : null,\n        tags: (activ && activ.tags) ? activ.tags.map((t) => { return typeof t == 'string' ? t : null }) : [],\n        j: j,\n        i: i,\n        id: geom_id\n      });\n\n\n      geom_id++;\n    }\n  }\n\n  return {\n    transform: {translate: [0, 0], scale: [1, 1]},\n    objects: { hexagons: {type: \"GeometryCollection\", geometries: geometries} },\n    arcs: arcs\n  };\n}\n\nfunction hexProjection(radius) {\n  var dx = radius * 2 * Math.sin(Math.PI / 3),\n      dy = radius * 1.5;\n  return {\n    stream: function(stream) {\n      return {\n        point: function(x, y) { stream.point(x * dx / 2, (y - (2 - (y & 1)) / 3) * dy / 2); },\n        lineStart: function() { stream.lineStart(); },\n        lineEnd: function() { stream.lineEnd(); },\n        polygonStart: function() { stream.polygonStart(); },\n        polygonEnd: function() { stream.polygonEnd(); }\n      };\n    }\n  };\n}\n\nvar MIN = {x: -1540, y: -1270},     //top-left corner\nMAX = {x: 0, y: 0};   //bottom-right corner\n\nexport default {\n\n  components: {\n    MapSVG,\n    Messages,\n    TileInfo\n  },\n\n  props: {\n    x: {type: String, default: \"4\"},\n    y: {type: String, default: \"21\"}\n  },\n\n  data () {\n    return { \n      messages: [],\n      activity: {},\n      active_tags: [ ]\n    }\n  },\n\n  computed: {\n    position() {\n      return this.$route.params.x, this.$route.params.y\n    }\n  },\n\n  watch: {\n    // if the position moves, load new messages\n    position() {\n      this.getActivity()\n    }\n  },\n\n  methods: {\n    handle_new_post () {\n      // console.log(\"handle_new_post\")\n      this.$forceUpdate()\n      this.getActivity()\n    },\n\n    new_activity (err, a) {\n      this.$data.activity = a\n      \n      // Check for active tags where we are\n      var x = this.$route.params.x\n      var y = this.$route.params.y\n\n      if(x && y) // if we have a postion\n      {\n        this.$data.active_tags = a[ x + '/' + y ] ? a[ x + '/' + y ].tags : []\n      }\n\n      // d3 update stuff\n      var size = this.getSize()\n      var data = hexTopology(radius, size.width, size.height);\n      \n      var topology = hexTopology(radius, size.width, size.height);\n      var projection = hexProjection(radius);\n\n      path = d3.geoPath(projection);\n\n      var paths = g.selectAll(\"path\")\n        .data(topology.objects.hexagons.geometries)\n\n      var labels_to_update = labels.selectAll(\"text\")\n        .data(topology.objects.hexagons.geometries)\n\n      this.update_backgrounds(paths, topology)\n      this.update_labels(labels_to_update, topology)\n      this.update_borders(border, topology)\n    },\n    getSize () {\n      var width = 2270\n      var height = 1300\n      return { width, height }\n    },\n    transformSvg (g, size) {\n      size = size || this.getSize()\n      return layout.transformSvg(g, this.margin, size)\n    },\n    updateTransform (g, size) {\n      size = size || this.getSize()\n      return layout.updateTransform(g, this.margin, size)\n    },\n    resize: function() {\n      const size = this.getSize()\n      const {g, svg, tree} = this.internaldata\n      \n      this.transformSvg(g, size)\n      layout.optimizeSize(tree, size, this.margin, this.textContraint)\n      this.redraw()\n    },\n\n\n    getActivity: function(refresh_activity) {\n      console.log(\"getActivity\")\n      this.$ssb.then((ssb) => {\n        var index = ssb.geospatial.get(this.new_activity)\n      })\n    },\n\n    zoomed: function() {\n      var transform = d3.event.transform;\n\n      // limiting tranformation by MIN and MAX bounds\n      transform.x = d3.max([transform.x, MIN.x]);\n      transform.y = d3.max([transform.y, MIN.y]);\n      transform.x = d3.min([transform.x, MAX.x]);\n      transform.y = d3.min([transform.y, MAX.y]);\n\n      container_container.attr(\"transform\", transform);\n    },\n\n    // dragstarted: function (d) {\n    //   d3.event.sourceEvent.stopPropagation();\n    // },\n\n    // dragged: function (d) {\n    //   d.x = d3.event.x;\n    //   d.y = d3.event.y;\n\n    //   container_container.attr(\"transform\", \"translate(\" + [d.x, d.y] + \")\")\n    // },\n\n    // dragended: function (d) {\n    // },\n\n    // For a given activity timestamp, fade it out based on how long ago it was\n    activity_to_alpha: function(d) {\n      if(d.last_activity == null)\n        return\n\n      // ScuttleCity - no fill\n      if(d.i == 4 && d.j == 21)\n        return 0\n\n      // Time difference\n      var difference = Date.now() - d.last_activity\n\n      // max age\n      var max = 8.64e+6 * 7 // 1 week\n      // console.log(max / difference)\n\n      return Math.min( Math.max( max / difference, 0.05 ), 0.35) // so you can still see small things\n    },\n\n    apply_attributes: function(paths, topology) {\n      return paths\n        .attr(\"d\", function(d) { return path(topojson.feature(topology, d)) })\n        .attr(\"fill-opacity\", function(d) { return map_context.activity_to_alpha(d) })\n        .style(\"fill\", function(d) { return d.last_activity != null ? \"Green\" : null })\n        //.style(\"background-image\", function(d) { if(true){ return \"scuttlebuttCity.png\" } })\n      \n        .on(\"click\", mousedown)\n    },\n\n    update_backgrounds: function(paths, topology) {\n      // UPDATE\n      this.apply_attributes(paths, topology)\n\n      // ENTER\n      // Create new elements as needed.\n      //\n      // ENTER + UPDATE\n      // After merging the entered elements with the update selection,\n      // apply operations to both.\n      this.apply_attributes(\n          paths.enter().append(\"path\"), topology\n        )\n        .merge(paths)\n\n      // EXIT\n      // Remove old elements as needed.\n      paths.exit().remove();\n    },\n\n    update_borders: function(borders, topology) {\n      // border = container_container.append(\"g\").append(\"path\")\n      //     .attr(\"class\", \"border\")\n      //     .call(draw_border, path, topology);\n      // UPDATE\n      // Update old elements as needed.\n      borders.attr(\"class\", \"border\")\n        .call(draw_border, path, topology);\n\n      // ENTER\n      // Create new elements as needed.\n      //\n      // ENTER + UPDATE\n      // After merging the entered elements with the update selection,\n      // apply operations to both.\n      borders.enter().append(\"path\")\n        .attr(\"class\", \"border\")\n        .call(draw_border, path, topology);\n\n      // EXIT\n      // Remove old elements as needed.\n      borders.exit().remove();\n    },\n\n\n\n    apply_label_attrs: function(labels, topology){\n      return labels\n        .attr(\"class\", \"label\")\n        .text(function(d) {\n          if(d.i == 4 && d.j == 21)\n          {\n            return // 'ScuttleCity'\n          }\n          else\n          {\n            return d.tags.join(', ');\n          }\n        })\n        .attr('transform', function(d) {\n          return 'translate(' + ( d.i * 34.64 ) + ',' + ( d.j * 30 - 15) + ')';\n        })\n    },\n\n    update_labels: function(labels, topology) {\n      // border = container_container.append(\"g\").append(\"path\")\n      //     .attr(\"class\", \"border\")\n      //     .call(draw_border, path, topology);\n      // UPDATE\n      // Update old elements as needed.\n      this.apply_label_attrs(labels)\n\n      // ENTER\n      // Create new elements as needed.\n      //\n      // ENTER + UPDATE\n      // After merging the entered elements with the update selection,\n      // apply operations to both.\n      this.apply_label_attrs(labels.enter().append(\"text\"))\n        \n\n      // EXIT\n      // Remove old elements as needed.\n      labels.exit().remove();\n    }\n  },\n\n  mounted: function() {\n    // Check we're following the pub\n    this.$ssb.then((ssb) => {\n      var pub_id = \"@+COav7rGgSXqV36bsgYJK1EHtUuk9SvojPFGdIzJLlA=.ed25519\"\n      var our_id = JSON.parse(localStorage.keys).id\n      \n      ssb.friends.isFollowing({source: our_id, dest: pub_id}, function(err, following)\n      {\n        if(!following)\n        {\n          // console.log(\"not following, so gunna follow\", pub_id, our_id)\n          // follow\n          sbotLibs.post_as(ssb, JSON.parse(localStorage.keys), {\n            type: \"contact\",\n            contact: pub_id,\n            following: true\n          }, () => {\n            // console.log(\"followed\")\n          })\n        }\n      })    \n    })\n\n    // Setup d3 stuff\n    var margin = {top: -5, right: -5, bottom: -5, left: -5}\n    var svg = d3.select(\"#map_svg\").append(\"g\")\n      .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.right + \")\")\n      .attr(\"class\", \"wrapper\")\n      .data([{x: 0, y: 0}]);\n\n    width = +svg.attr(\"width\"),\n    height = +svg.attr(\"height\")\n\n    var size = this.getSize()\n      \n    path = d3.geoPath(projection);\n\n    map_context = this;\n\n    var topology = hexTopology(radius, size.width, size.height);\n    var projection = hexProjection(radius);\n    var path = d3.geoPath(projection);\n\n    container_container = svg\n\n    // Zoom / pan behaviour\n    d3.select(\"#map_svg\").call(d3.zoom()\n      // .translateExtent([0, 0], [width, height])\n      .scaleExtent([0.5, 3])\n      .on(\"zoom\", this.zoomed))\n\n    // Add map visuals\n    var imgs = container_container.selectAll(\"image\").data([0]);\n    imgs.enter()\n      .append(\"svg:image\")\n      .attr('x', 0)\n      .attr('y', -2)\n      .attr('width', 2280)\n      .attr('height', 1300)\n      .attr(\"xlink:href\", require(\"./../assets/fantasy_map_1554102582670.png\"))\n\n\n\n    g = container_container.append(\"g\").attr(\"class\", \"hexagon\");\n    \n    mesh = container_container.append(\"g\").append(\"path\")\n      .datum(topojson.mesh(topology, topology.objects.hexagons))\n      .attr(\"class\", \"mesh\")\n      .attr(\"d\", path);\n\n    border = container_container.append(\"g\").attr(\"class\", \"border\").append(\"path\")\n      .attr(\"class\", \"border\")\n      .call(draw_border, path, topology);\n\n    labels = container_container.append(\"g\").attr(\"class\", \"labels\")\n      .datum(topojson.mesh(topology, topology.objects.hexagons))\n      // .attr(\"d\", path)\n      .attr(\"class\", \"label\")\n    \n    // Hack for if we dont have a position\n    // Dump them in aligator city\n    // if(!this.$route.params.x && !this.$route.params.y)\n    // {\n    //   this.$route.params.x = \"4\"\n    //   this.$route.params.x = \"21\"\n    // }\n\n    this.getActivity()\n    \n    // this.inital_draw()\n    // this.getActivity()\n    \n  },\n  updated: function() {\n    console.log(\"update\")\n\n    // this.getActivity()\n    \n\n    // var t = d3.transition()\n    // .duration(750);\n\n    \n  }\n}\n</script>\n\n<style>\n\n/*g .hexagon\n{\n  background-image: url('./../assets/fantasy_map_1554102582670.png');\n  background-size: 2289px;\n  \n}*/\n\n/* small display mode */\n@media (max-width: 500px){\n  #map\n  {\n    height: 15rem !important;\n  }\n}\n\n/*stop pointer events on labels*/\ntext.label { \n  color: gray;\n  paint-order: stroke;\n  stroke: #FFF;\n  stroke-width: 2px;\n  stroke-linecap: butt;\n  stroke-linejoin: miter;\n\n  pointer-events: none; \n\n  font-size: 11pt;\n  opacity: 0.8;\n}\n\n.message{\n  overflow-y: wrap;\n}\n\n[active~=\"true\"]\n{\n  fill: green;\n  fill-opacity: 0.4;\n}\n\n.scroll\n{\n  overflow-y: scroll;\n  height: 100%;\n}\n\n      .reset, html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font: inherit;\n  font-size: 100%;\n  vertical-align: baseline;\n}\n\n.reset_2, caption, th, td {\n  text-align: left;\n  font-weight: normal;\n  vertical-align: middle;\n}\n\nhtml {\n  line-height: 1;\n  position: relative;\n  height: 100%;\n  font-size: 16px;\n  font-family: Lato, sans-serif;\n}\n\nbody {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding-top: 53px;\n  padding-bottom: 64px;\n}\n\nblockquote {\n  quotes: none;\n}\nblockquote:before {\n  content: \"\";\n  content: none;\n}\nblockquote:after {\n  content: \"\";\n  content: none;\n}\n\na img {\n  border: none;\n}\n\nq {\n  quotes: none;\n}\nq:before {\n  content: \"\";\n  content: none;\n}\nq:after {\n  content: \"\";\n  content: none;\n}\n\nol {\n  list-style: none;\n}\n\nul {\n  list-style: none;\n}\n\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\narticle {\n  display: block;\n}\n\naside {\n  display: block;\n}\n\ndetails {\n  display: block;\n}\n\nfigure {\n  display: block;\n}\n\nfigcaption {\n  display: block;\n}\n\nfooter {\n  display: block;\n}\n\nheader {\n  display: block;\n}\n\nhgroup {\n  display: block;\n}\nmenu {\n  display: block;\n}\n\nnav {\n  display: block;\n}\n\nsection {\n  display: block;\n}\n\nsummary {\n  display: block;\n}\n\nmain {\n  display: block;\n}\n\n* {\n  box-sizing: border-box;\n}\n\n.header {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 53px;\n  width: 100%;\n}\n\n.main {\n  height: 100%;\n}\n\n.footer {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  height: 64px;\n  width: 100%;\n}\n\n.team-menu {\n  position: relative;\n  width: 220px;\n  height: 53px;\n  line-height: 53px;\n  font-weight: 900;\n  padding: 0 1rem;\n  color: #ffffff;\n  background: #3e313c;\n  border-bottom: 2px solid #372c36;\n  float: left;\n  cursor: pointer;\n}\n\n.channel-menu_name {\n  display: inline-block;\n  padding: 0 0.5rem 0 1.5rem;\n  color: #555459;\n  font-size: 1.4rem;\n  font-weight: 900;\n  line-height: 53px;\n  cursor: pointer;\n}\n\n.channel-menu_prefix {\n  color: #9e9ea6;\n  padding-right: 0.1rem;\n  font-weight: 500;\n}\n\n.listings {\n  height: 100%;\n  width: 220px;\n  float: left;\n  color: #ab9ba9;\n  background-color: #4d394b;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.message-history {\n  overflow-y: auto;\n  overflow-x: hidden;\n  height: 100%;\n  /*padding: 0 18px 1rem 1.5rem;*/\n  overflow: scroll;\n  overflow-x: hidden;\n}\n\n.listings_channels {\n  margin: 1rem 0 2rem;\n}\n\n.listings_header {\n  text-align: left;\n  font-size: 0.8rem;\n  line-height: 1.25rem;\n  margin: 0 1rem 0.1rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  color: #ab9ba9;\n  width: 165px;\n  position: relative;\n}\n\n.channel_list {\n  list-style-type: none;\n  text-align: left;\n  color: #ab9ba9;\n}\n\n.channel {\n  height: 24px;\n  line-height: 24px;\n  border-top-right-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n  margin-right: 17px;\n  color: #ffffff;\n  padding-left: 1rem;\n}\n.channel.active {\n  background: #4c9689;\n}\n\n.unread {\n  color: #ffffff;\n  background: #eb4d5c;\n  border-radius: 9px;\n  padding: 2px 9px;\n  font-size: 0.8rem;\n  line-height: 14px;\n  font-weight: 700;\n  vertical-align: baseline;\n  white-space: nowrap;\n  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);\n  float: right;\n  margin-right: 3px;\n  margin-top: 3px;\n}\n\n.channel_prefix {\n  color: #b2d5c9;\n}\n\n.disclaimer {\n  font-size: 0.8rem;\n  padding-left: 1rem;\n  margin-right: 17px;\n}\n\n\n.user-menu {\n  float: left;\n  width: 220px;\n  height: 100%;\n  cursor: pointer;\n  background: #3e313c;\n  border-top: 2px solid #372c36;\n  padding: 7px 0 9px 8px;\n  height: 4rem;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n}\n\n.user-menu_profile-pic {\n  display: inline-block;\n  float: left;\n  border-radius: 0.2rem;\n  width: 48px;\n  height: 48px;\n  background-image: url(http://findicons.com/icon/download/102283/fh02/300/png);\n  background-size: cover;\n  margin-right: 8px;\n}\n\n.user-menu_username {\n  display: block;\n  color: #ffffff;\n  font-weight: 900;\n  line-height: 1.5rem;\n  margin-top: 0.2rem;\n  max-width: 120px;\n}\n\n.connection_icon {\n  width: 12px;\n  height: 12px;\n}\n\n.connection_status {\n  color: #ab9ba9;\n}\n\n.input-box {\n  height: 100%;\n  margin-left: 220px;\n}\n\n.input-box_text {\n  font-size: 0.95rem;\n  width: 90%;\n  margin-left: 2%;\n  margin-bottom: auto;\n  line-height: 1.2rem;\n  border: 2px solid #e0e0e0;\n  border-radius: 0.2rem;\n  background-clip: padding-box;\n  color: #3d3c40;\n  box-shadow: none;\n  outline: 0;\n  bottom: 0;\n  min-height: 41px !important;\n  padding: 9px 5px 9px 8px;\n}\n\n    \n\n@import url('https://fonts.googleapis.com/css?family=Bitter:400,400i&subset=latin-ext');\nhtml, body {\n  margin:0;\n  padding:0;\n  overflow:hidden;\n}\n\n\n\nsvg {\n  background-color: transparent;\n  cursor: default;\n  display: table-cell;\n  height: auto;\n}\n\n#map\n{\n  /*max-width: 50%;*/\n  overflow: hidden;\n  background-position-x: 14px;\n  /*2280px*/\n  /*height: 1960px;*/\n  height: 100%;\n}\n\n.names {\n    font-family: 'Bitter', verdana;\n    text-anchor: middle;\n    fill: #3e3e4b;\n    text-shadow: 0 0 6px white;\n}\n\n.active {\n    text-shadow: 0 0 6px red;\n    cursor: grabbing;\n    cursor: -webkit-grabbing;\n}\n\n.hexagon {\n  fill: transparent;\n  pointer-events: all;\n}\n\n.hexagon path {\n  -webkit-transition: fill 250ms linear;\n  transition: fill 250ms linear;\n}\n\n.hexagon :hover {\n  fill: pink;\n  fill-opacity: 0.7;\n}\n\n.hexagon .fill {\n  fill: pink;\n  fill-opacity: 0.7;\n}\n\n.mesh {\n  fill: none;\n  stroke: #000;\n  stroke-opacity: .1;\n  pointer-events: none;\n}\n\n.border {\n  fill: none;\n  stroke: #555;\n  stroke-width: 3px;\n  pointer-events: none;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=c16fe8d8&\"\nimport script from \"./Map.vue?vue&type=script&lang=js&\"\nexport * from \"./Map.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"fb-profile\"},[_c('div',{staticClass:\"fb-image-profile card vue-avatar-cropper-demo text-center\"},[_c('div',{staticClass:\"card-body\"},[_c('img',{staticClass:\"card-img avatar\",attrs:{\"src\":_vm.avatar}}),_vm._m(0),_c('h5',{staticClass:\"card-title mb-0\"},[_vm._v(_vm._s(_vm.author.authorName))])]),_c('div',{staticClass:\"card-footer text-muted\",domProps:{\"innerHTML\":_vm._s(_vm.message)}}),_c('avatar-cropper',{attrs:{\"trigger\":\"#pick-avatar\"},on:{\"uploading\":_vm.handleUploading,\"uploaded\":_vm.handleUploaded,\"completed\":_vm.handleCompleted,\"error\":_vm.handlerError}})],1),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_name),expression:\"new_name\"}],staticClass:\"form-control\",attrs:{\"type\":\"name\",\"id\":\"name\",\"placeholder\":\"Enter name\"},domProps:{\"value\":(_vm.new_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.new_name=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Update\")])])]),_c('div')])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-img-overlay\"},[_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"id\":\"pick-avatar\"}},[_vm._v(\"Select an new image\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"avatar-cropper\"},[(_vm.dataUrl)?_c('div',{staticClass:\"avatar-cropper-overlay\"},[_c('div',{staticClass:\"avatar-cropper-mark\"},[_c('a',{staticClass:\"avatar-cropper-close\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.destroy}},[_vm._v(\"×\")])]),_c('div',{staticClass:\"avatar-cropper-container\"},[_c('div',{staticClass:\"avatar-cropper-image-container\"},[_c('img',{ref:\"img\",attrs:{\"src\":_vm.dataUrl,\"alt\":\"\"},on:{\"load\":function($event){$event.stopPropagation();return _vm.createCropper($event)}}})]),_c('div',{staticClass:\"avatar-cropper-footer\"},[_c('button',{staticClass:\"avatar-cropper-btn\",domProps:{\"textContent\":_vm._s(_vm.labels.cancel)},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.destroy($event)}}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"avatar-cropper-btn\",domProps:{\"textContent\":_vm._s(_vm.labels.submit)},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.submit($event)}}},[_vm._v(\"Submit\")])])])]):_vm._e(),_c('input',{ref:\"input\",staticClass:\"avatar-cropper-img-input\",attrs:{\"accept\":_vm.mimes,\"type\":\"file\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"avatar-cropper\">\n    <div\n      class=\"avatar-cropper-overlay\"\n      v-if=\"dataUrl\"\n    >\n      <div class=\"avatar-cropper-mark\">\n        <a\n          @click=\"destroy\"\n          class=\"avatar-cropper-close\"\n          href=\"javascript:;\"\n        >&times;</a>\n      </div>\n      <div class=\"avatar-cropper-container\">\n        <div class=\"avatar-cropper-image-container\">\n          <img\n            :src=\"dataUrl\"\n            @load.stop=\"createCropper\"\n            alt\n            ref=\"img\"\n          >\n        </div>\n        <div class=\"avatar-cropper-footer\">\n          <button\n            @click.stop.prevent=\"destroy\"\n            class=\"avatar-cropper-btn\"\n            v-text=\"labels.cancel\"\n          >Cancel</button>\n          <button\n            @click.stop.prevent=\"submit\"\n            class=\"avatar-cropper-btn\"\n            v-text=\"labels.submit\"\n          >Submit</button>\n        </div>\n      </div>\n    </div>\n    <input\n      :accept=\"mimes\"\n      class=\"avatar-cropper-img-input\"\n      ref=\"input\"\n      type=\"file\"\n    >\n  </div>\n</template>\n\n<script>\nimport 'cropperjs/dist/cropper.css'\nimport Cropper from 'cropperjs'\nvar dataurl = require('dataurl')\n\nimport sbotLibs from './../sbot'\nimport pull from 'pull-stream'\n\n\nexport default {\n  props: {\n    trigger: {\n      type: [String, Element],\n      required: true\n    },\n    uploadHandler: {\n      type: Function\n    },\n    blobHandler: {\n      type: Function\n    },\n    uploadUrl: {\n      type: String\n    },\n    requestMethod: {\n      type: String,\n      default: 'POST'\n    },\n    uploadHeaders: {\n      type: Object\n    },\n    uploadFormName: {\n      type: String,\n      default: 'file'\n    },\n    uploadFormData: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    cropperOptions: {\n      type: Object,\n      default() {\n        return {\n          aspectRatio: 1,\n          autoCropArea: 1,\n          viewMode: 1,\n          movable: false,\n          zoomable: false\n        }\n      }\n    },\n    outputOptions: {\n      type: Object\n    },\n    outputMime: {\n      type: String,\n      default: null\n    },\n    outputQuality: {\n      type: Number,\n      default: 0.9\n    },\n    mimes: {\n      type: String,\n      default: 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon'\n    },\n    labels: {\n      type: Object,\n      default() {\n        return {\n          submit: 'submit',\n          cancel: 'cancel'\n        }\n      }\n    }\n  },\n  data() {\n    return {\n      cropper: undefined,\n      dataUrl: undefined,\n      filename: undefined\n    }\n  },\n  methods: {\n    destroy() {\n      this.cropper.destroy()\n      this.$refs.input.value = ''\n      this.dataUrl = undefined\n    },\n    submit() {\n      this.$emit('submit')\n      // if (this.uploadUrl) {\n        this.uploadImage()\n      // } else if (this.uploadHandler) {\n      //   this.uploadHandler(this.cropper)\n      // } else {\n      //   this.$emit('error', 'No upload handler found.', 'user')\n      // }\n      this.destroy()\n    },\n    pickImage(e) {\n      this.$refs.input.click()\n      e.preventDefault()\n      e.stopPropagation()\n    },\n    createCropper() {\n      this.cropper = new Cropper(this.$refs.img, this.cropperOptions)\n    },\n    uploadImage() {\n      // console.log(\"this.cropper.getCroppedCanvas(this.outputOptions)\", this.cropper.getCroppedCanvas(this.outputOptions))\n      var dataURL = this.cropper.getCroppedCanvas(this.outputOptions).toDataURL()\n    \n      \n      this.$emit('uploading')\n\n      // console.log(\"gotdataurl\", dataURL)\n      var _data = dataurl.parse(dataURL)\n\n      this.$ssb.then((ssb) => {\n  \n        pull(\n          pull.once(_data.data),\n          ssb.blobs.add((err, hash) => {\n            if(err) return alert(err.stack)\n\n            var selected = {\n              link: hash,\n              size: _data.data.length,\n              type: _data.mimetype,\n              width: 512,\n              height: 512\n            }\n\n            sbotLibs.post_as(ssb, JSON.parse(localStorage.keys), {\n              type: 'about',\n              about: JSON.parse(localStorage.keys).id,\n              image: selected\n            }, (err,a) => {\n              // console.log(\"finished\", err, a)\n              this.$emit('completed')\n              this.$emit('uploaded')\n            })\n          \n          })\n        )\n        })\n\n        this.outputMime,\n        this.outputQuality      \n    }\n  },\n  mounted() {\n    // listen for click event on trigger\n    let trigger =\n      typeof this.trigger == 'object'\n        ? this.trigger\n        : document.querySelector(this.trigger)\n    if (!trigger) {\n      this.$emit('error', 'No avatar make trigger found.', 'user')\n    } else {\n      trigger.addEventListener('click', this.pickImage)\n    }\n\n    // listen for input file changes\n    let fileInput = this.$refs.input\n    fileInput.addEventListener('change', () => {\n      if (fileInput.files != null && fileInput.files[0] != null) {\n        let reader = new FileReader()\n        reader.onload = e => {\n          this.dataUrl = e.target.result\n        }\n\n        reader.readAsDataURL(fileInput.files[0])\n\n        this.filename = fileInput.files[0].name || 'unknown'\n        this.mimeType = this.mimeType || fileInput.files[0].type\n        this.$emit('changed', fileInput.files[0], reader)\n      }\n    })\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.avatar-cropper {\n  .avatar-cropper-overlay {\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 99999;\n  }\n\n  .avatar-cropper-img-input {\n    display: none;\n  }\n\n  .avatar-cropper-close {\n    float: right;\n    padding: 20px;\n    font-size: 3rem;\n    color: #fff;\n    font-weight: 100;\n    text-shadow: 0px 1px rgba(40, 40, 40, 0.3);\n  }\n\n  .avatar-cropper-mark {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.1);\n  }\n\n  .avatar-cropper-container {\n    background: #fff;\n    z-index: 999;\n    box-shadow: 1px 1px 5px rgba(100, 100, 100, 0.14);\n\n    .avatar-cropper-image-container {\n      position: relative;\n      max-width: 400px;\n      height: 300px;\n    }\n    img {\n      max-width: 100%;\n      height: 100%;\n    }\n\n    .avatar-cropper-footer {\n      display: flex;\n      align-items: stretch;\n      align-content: stretch;\n      justify-content: space-between;\n\n      .avatar-cropper-btn {\n        width: 50%;\n        padding: 15px 0;\n        cursor: pointer;\n        border: none;\n        background: transparent;\n        outline: none;\n        &:hover {\n          background-color: #2aabd2;\n          color: #fff;\n        }\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cropper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cropper.vue?vue&type=template&id=8b26c1de&\"\nimport script from \"./Cropper.vue?vue&type=script&lang=js&\"\nexport * from \"./Cropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cropper.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"container\">\n    <div class=\"fb-profile\">\n        \n        <div class=\"fb-image-profile card vue-avatar-cropper-demo text-center\">\n          <div class=\"card-body\">\n            <img :src=\"avatar\" class=\"card-img avatar\" />\n            <div class=\"card-img-overlay\">\n              <button class=\"btn btn-primary btn-sm\" id=\"pick-avatar\">Select an new image</button>\n            </div>\n            <h5 class=\"card-title mb-0\">{{ author.authorName }}</h5>\n          </div>\n          <div class=\"card-footer text-muted\" v-html=\"message\"></div>\n          \n          <avatar-cropper\n              @uploading=\"handleUploading\"\n              @uploaded=\"handleUploaded\"\n              @completed=\"handleCompleted\"\n              @error=\"handlerError\"\n              trigger=\"#pick-avatar\"\n              />\n        </div>\n\n        <form @submit.prevent=\"handleSubmit\">\n          <div class=\"form-group\">\n            <input type=\"name\" v-model=\"new_name\" class=\"form-control\" id=\"name\" placeholder=\"Enter name\">\n          </div>\n          <button type=\"submit\"class=\"btn btn-primary\">Update</button>\n        </form>\n\n        <!-- <div class=\"form-group purple-border\">\n        <label for=\"key\">secret key</label>\n  \n        <textarea id=\"key\" class=\"form-control\" rows=10>\n          {{key}}\n        </textarea>\n        </div> -->\n    </div>\n\n    <div>\n\n    </div>\n  </div> <!-- /container -->  \n</template>\n\n<script>\nimport sbotLibs from './../sbot'\nimport pull from 'pull-stream'\nimport GIXI from 'gixi'\npull.paraMap = require('pull-paramap')\nvar md = require('ssb-markdown')\n\nimport AvatarCropper from \"./Cropper.vue\";\n\nexport default {\n  name: 'profile',\n  components: { AvatarCropper },\n  data() {\n    return {\n      avatar: \"https://via.placeholder.com/90x90\",\n      author: \"...\",\n      new_name: \"\",\n      new_key: \"\",\n      key: JSON.parse(localStorage.keys),\n      message: \"\",\n      user: {\n        id: 1,\n      }\n    }\n  },\n  methods: {\n    uploadHandler(uploader){\n    },\n\n    handleUploading(form, xhr) {\n      this.message = \"uploading...\";\n    },\n    handleUploaded() {\n      // this.user.avatar = response.url;\n      this.$ssb.then((ssb) => {\n        sbotLibs.avatar(ssb, JSON.parse(localStorage.keys).id, this.avatar_loaded)   \n      })\n      this.message = \"saved\";\n    },\n    handleCompleted(response, form, xhr) {\n      this.message = \"upload completed.\";\n    },\n    handlerError(message, type, xhr) {\n      this.message = \"Oops! Something went wrong...\" + message;\n    },\n    name_loaded: function(err, name)\n    {\n      this.$data.author = name\n\n      // temporary avatar based on author\n      if(this.$data.avatar == \"https://via.placeholder.com/90x90\")\n      {\n        var imageData = new GIXI(300, JSON.parse(localStorage.keys).id).getImage();\n        this.$data.avatar = imageData\n      }\n    },\n    avatar_loaded: function(err, avatar)\n    {\n      if(avatar)\n        this.$data.avatar = \"http://ssb.guild.land/blobs/get/\" + avatar\n    },\n\n    handleSubmit() {\n      console.log(\"submit\")\n      if(this.$data.new_name != \"\" && this.$data.new_name != this.$data.author.authorName)\n      {\n        console.log(\"valid changes, post to ssb\")\n        this.$ssb.then((ssb) => {\n          var content = {\n            type: 'about',\n            about: this.$data.key.id,\n            name: this.$data.new_name\n          }\n\n          console.log(\"posting\", content)\n\n          sbotLibs.post_as(ssb, JSON.parse(localStorage.keys), content)\n\n          this.$data.new_name = \"\"\n        })\n      }\n    }\n  },\n\n  mounted: function()\n  {\n    // Async fetch and connect ssb\n    this.$ssb.then((ssb) => {\n      // console.log(ssb.getAddress(\"public\", function(err, address) { console.log(address) } ))\n      // debugger\n      sbotLibs.displayName(ssb, JSON.parse(localStorage.keys).id, this.name_loaded)\n      sbotLibs.avatar(ssb, JSON.parse(localStorage.keys).id, this.avatar_loaded)   \n    })\n  },\n  \n}\n</script>\n\n<style scoped>\n \n.vue-avatar-cropper-demo {\n  max-width: 18em;\n  margin: 0 auto;\n}\n.avatar {\n  width: 160px;\n  border-radius: 6px;\n  display: block;\n  margin: 20px auto;\n}\n.card-img-overlay {\n  display: none;\n  transition: all 0.5s;\n}\n.card-img-overlay button {\n  margin-top: 20vh;\n}\n.card:hover .card-img-overlay {\n  display: block;\n}\n\n.background\n{\n  height: 10em;\n  background-color: grey;\n}\n\n.fb-profile img.fb-image-lg{\n  z-index: 0;\n  width: 100%;  \n  margin-bottom: 10px;\n}\n\n.fb-image-profile\n{\n  margin: 10px 0px 50px;\n  z-index: 9;\n  width: 35%; \n}\n\n@media (max-width:768px)\n{\n\n.fb-image-profile\n{\n    margin: -45px 10px 0px 25px;\n    z-index: 9;\n    width: 20%; \n}\n}\n</style>  ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=95690a3e&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=95690a3e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"95690a3e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"fb-profile\"},[_c('div',{staticClass:\"fb-image-profile card vue-avatar-cropper-demo text-center\"},[_c('div',{staticClass:\"card-body\"},[_c('img',{staticClass:\"card-img avatar\",attrs:{\"src\":_vm.avatar}}),_vm._m(0),_c('h5',{staticClass:\"card-title mb-0\"},[_vm._v(_vm._s(_vm.author.authorName))])]),_c('div',{staticClass:\"card-footer text-muted\",domProps:{\"innerHTML\":_vm._s(_vm.message)}}),_c('avatar-cropper',{attrs:{\"trigger\":\"#pick-avatar\"},on:{\"uploading\":_vm.handleUploading,\"uploaded\":_vm.handleUploaded,\"completed\":_vm.handleCompleted,\"error\":_vm.handlerError}})],1),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.new_name),expression:\"new_name\"}],staticClass:\"form-control\",attrs:{\"type\":\"name\",\"id\":\"name\",\"placeholder\":\"Enter name\"},domProps:{\"value\":(_vm.new_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.new_name=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Update\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-img-overlay\"},[_c('button',{staticClass:\"btn btn-primary btn-sm\",attrs:{\"id\":\"pick-avatar\"}},[_vm._v(\"Select an new image\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"fb-profile\">\n        \n        <div class=\"fb-image-profile card vue-avatar-cropper-demo text-center\">\n          <div class=\"card-body\">\n            <img :src=\"avatar\" class=\"card-img avatar\" />\n            <div class=\"card-img-overlay\">\n              <button class=\"btn btn-primary btn-sm\" id=\"pick-avatar\">Select an new image</button>\n            </div>\n            <h5 class=\"card-title mb-0\">{{ author.authorName }}</h5>\n          </div>\n          <div class=\"card-footer text-muted\" v-html=\"message\"></div>\n          \n          <avatar-cropper\n              @uploading=\"handleUploading\"\n              @uploaded=\"handleUploaded\"\n              @completed=\"handleCompleted\"\n              @error=\"handlerError\"\n              trigger=\"#pick-avatar\"\n              />\n        </div>\n\n        <form @submit.prevent=\"handleSubmit\">\n          <div class=\"form-group\">\n            <input type=\"name\" v-model=\"new_name\" class=\"form-control\" id=\"name\" placeholder=\"Enter name\">\n          </div>\n          <button type=\"submit\"class=\"btn btn-primary\">Update</button>\n        </form>\n\n    </div>\n\n  </div> <!-- /container -->  \n</template>\n\n<script>\nimport sbotLibs from './../sbot'\nimport pull from 'pull-stream'\nimport GIXI from 'gixi'\npull.paraMap = require('pull-paramap')\nvar md = require('ssb-markdown')\n\n\nexport default {\n  name: 'camp',\n  data() {\n    return {\n      avatar: \"https://via.placeholder.com/90x90\",\n      author: \"...\",\n      new_name: \"\",\n      new_key: \"\",\n      key: JSON.parse(localStorage.keys),\n      message: \"\",\n      user: {\n        id: 1,\n      }\n    }\n  },\n  methods: {\n    uploadHandler(uploader){\n      // console.log(\"uploadHandler\", a,b,c)\n    },\n\n    handleUploading(form, xhr) {\n      this.message = \"uploading...\";\n      console.log(\"handle_uploading\", form, xhr)\n      // xhr.abort()\n\n    },\n    handleUploaded() {\n      // this.user.avatar = response.url;\n      this.$ssb.then((ssb) => {\n        sbotLibs.avatar(ssb, JSON.parse(localStorage.keys).id, this.avatar_loaded)   \n      })\n      this.message = \"saved\";\n    },\n    handleCompleted(response, form, xhr) {\n      this.message = \"upload completed.\";\n    },\n    handlerError(message, type, xhr) {\n      this.message = \"Oops! Something went wrong...\" + message;\n    },\n    name_loaded: function(err, name)\n    {\n      this.$data.author = name\n\n      // temporary avatar based on author\n      if(this.$data.avatar == \"https://via.placeholder.com/90x90\")\n      {\n        var imageData = new GIXI(300, JSON.parse(localStorage.keys).id).getImage();\n        this.$data.avatar = imageData\n      }\n    },\n    avatar_loaded: function(err, avatar)\n    {\n      if(avatar)\n        this.$data.avatar = \"http://ssb.guild.land/blobs/get/\" + avatar\n    },\n\n    handleSubmit() {\n      console.log(\"submit\")\n      if(this.$data.new_name != \"\" && this.$data.new_name != this.$data.author.authorName)\n      {\n        console.log(\"valid changes, post to ssb\")\n        this.$ssb.then((ssb) => {\n          var content = {\n            type: 'about',\n            about: this.$data.key.id,\n            name: this.$data.new_name\n          }\n\n          console.log(\"posting\", content)\n\n          sbotLibs.post_as(ssb, JSON.parse(localStorage.keys), content)\n\n          this.$data.new_name = \"\"\n        })\n      }\n    }\n  },\n\n  mounted: function()\n  {\n    // Async fetch and connect ssb\n    // this.$ssb.then((ssb) => {\n    //   // console.log(ssb.getAddress(\"public\", function(err, address) { console.log(address) } ))\n    //   // debugger\n    //   sbotLibs.displayName(ssb, JSON.parse(localStorage.keys).id, this.name_loaded)\n    //   sbotLibs.avatar(ssb, JSON.parse(localStorage.keys).id, this.avatar_loaded)   \n    // })\n  },\n  \n}\n</script>\n\n<style scoped>\n \n</style>  ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Camp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Camp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Camp.vue?vue&type=template&id=2363792e&scoped=true&\"\nimport script from \"./Camp.vue?vue&type=script&lang=js&\"\nexport * from \"./Camp.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2363792e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"fb-profile\"},[_c('div',{staticClass:\"fb-image-profile card vue-avatar-cropper-demo text-center\"},[_c('div',{staticClass:\"card-body\"},[_c('img',{staticClass:\"card-img avatar\",attrs:{\"src\":_vm.avatar}}),_c('div',{staticClass:\"card-img-overlay\"}),_c('h5',{staticClass:\"card-title mb-0\"},[_vm._v(_vm._s(_vm.author.authorName))])])])]),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p'),_c('h1',{staticClass:\"lead\"},[_vm._v(\"No guilds\")]),_c('p')])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"container\">\n    <div class=\"fb-profile\">\n      <div class=\"fb-image-profile card vue-avatar-cropper-demo text-center\">\n        <div class=\"card-body\">\n          <img :src=\"avatar\" class=\"card-img avatar\" />\n          <div class=\"card-img-overlay\">\n          </div>\n          <h5 class=\"card-title mb-0\">{{ author.authorName }}</h5>\n        </div>          \n      </div>\n    </div>\n    <div>\n     \n      <p>\n        <h1 class=\"lead\">No guilds</h1>\n      </p>\n\n    </div>\n  </div> <!-- /container -->  \n</template>\n\n<script>\nimport sbotLibs from './../sbot'\nimport pull from 'pull-stream'\nimport GIXI from 'gixi'\npull.paraMap = require('pull-paramap')\nvar md = require('ssb-markdown')\n\nexport default {\n  name: 'profile',\n  props: [ 'id' ],\n  data() {\n    return {\n      avatar: \"https://via.placeholder.com/90x90\",\n      author: \"...\",\n      \n    }\n  },\n  methods: {\n    name_loaded: function(err, name)\n    {\n      this.$data.author = name\n\n      // temporary avatar based on author\n      if(this.$data.avatar == \"https://via.placeholder.com/90x90\")\n      {\n        var imageData = new GIXI(300, this.$props.id).getImage();\n        this.$data.avatar = imageData\n      }\n    },\n    avatar_loaded: function(err, avatar)\n    {\n      if(avatar)\n        this.$data.avatar = \"http://ssb.guild.land/blobs/get/\" + avatar\n    },\n\n  },\n\n  mounted: function()\n  {\n    // Async fetch and connect ssb\n    this.$ssb.then((ssb) => {\n      // console.log(ssb.getAddress(\"public\", function(err, address) { console.log(address) } ))\n      // debugger\n      sbotLibs.displayName(ssb, this.$props.id, this.name_loaded)\n      sbotLibs.avatar(ssb, this.$props.id, this.avatar_loaded)   \n    })\n  },\n  \n}\n</script>\n\n<style scoped>\n \n.vue-avatar-cropper-demo {\n  max-width: 18em;\n  margin: 0 auto;\n}\n.avatar {\n  width: 160px;\n  border-radius: 6px;\n  display: block;\n  margin: 20px auto;\n}\n.card-img-overlay {\n  display: none;\n  transition: all 0.5s;\n}\n.card-img-overlay button {\n  margin-top: 20vh;\n}\n.card:hover .card-img-overlay {\n  display: block;\n}\n\n.background\n{\n  height: 10em;\n  background-color: grey;\n}\n\n.fb-profile img.fb-image-lg{\n  z-index: 0;\n  width: 100%;  \n  margin-bottom: 10px;\n}\n\n.fb-image-profile\n{\n  margin: 10px 0px 50px;\n  z-index: 9;\n  width: 35%; \n}\n\n@media (max-width:768px)\n{\n\n.fb-image-profile\n{\n    margin: -45px 10px 0px 25px;\n    z-index: 9;\n    width: 20%; \n}\n}\n</style>  ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewProfile.vue?vue&type=template&id=47c58bcc&scoped=true&\"\nimport script from \"./ViewProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewProfile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ViewProfile.vue?vue&type=style&index=0&id=47c58bcc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47c58bcc\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nimport Map from './../components/Map'\nimport Profile from './../components/Profile'\nimport Camp from './../components/Camp'\nimport ViewProfile from './../components/ViewProfile'\nimport Messages from './../components/Messages'\n\n\nVue.use(VueRouter)\n\nexport default new VueRouter({\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Map\n    },\n    {\n      path: '/:x(\\\\d+)/:y(\\\\d+)',\n      name: 'Map',\n      component: Map,\n      props: true\n    },\n    {\n      path: '/:x(\\\\d+)/:y(\\\\d+)/camp',\n      name: 'New Camp',\n      component: Camp\n    },\n    {\n      path: '/:x(\\\\d+)/:y(\\\\d+)/post/:id',\n      name: 'View Post',\n      component: Messages\n    },\n    {\n      path: '/profile',\n      name: 'Profile',\n      component: Profile\n    },\n    {\n      path: '/profile/:id',\n      name: 'ViewProfile',\n      component: ViewProfile,\n      props: true\n    },\n  ]\n})\n","import Vue from 'vue'\nimport app from './App.vue'\nimport router from './router'\nimport VueTimeago from 'vue-timeago'\nVue.use(VueTimeago, {\n\tlocales: {\n    'en': require('date-fns/locale/en'),}\n})\n\nimport ReadMore from 'vue-read-more';\nVue.use(ReadMore);\n\nimport BootstrapVue from 'bootstrap-vue'\nVue.use(BootstrapVue)\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap-vue/dist/bootstrap-vue.css'\n\nimport EvaIcons from 'vue-eva-icons'\nVue.use(EvaIcons)\n\nimport ssbclient from 'vue-ssb'\n\nVue.use(ssbclient, \n\t{ \n\t\tkeys: localStorage.keys,\n\t\tremote: \"wss://ssb.guild.land/~shs:+COav7rGgSXqV36bsgYJK1EHtUuk9SvojPFGdIzJLlA=\",\n\t\t// remote: \"ws://192.168.0.109:8989~shs:5NWaVfaBIWV9fnXuI8xx+mVRf19m8XlCZkeMwxPyilk=\",\n\t\tmanifest: { \n\t\t\tgeospatial: \n\t\t\t{ \n\t\t\t\tread: 'source',\n\t\t\t\tstream: 'source',\n\t\t\t\tget: 'async'\n\t\t\t} \n\t\t} // Extra functions provided by GeoSpatial FLumeVue Index\n\t})\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  template: '<app/>',\n  components: { app }\n}).$mount('#app')","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cropper.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cropper.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=95690a3e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=95690a3e&scoped=true&lang=css&\""],"sourceRoot":""}